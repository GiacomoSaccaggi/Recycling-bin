page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:blue"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1.7
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:gray"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1.8
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:yellow"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1.9
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:pink"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1.10
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:brown"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
}
return(txt)
}
############# PLASTICA #-----------------------
img<-c("bottiglie di plastica","sacchetti di plastica","tappi di plastica","plastica","bottles of plastic","giochi di plastica","utensili di plastica")
# i=1
webscraing_img(img)
txt<-"img"
for(i in 1:length(img)){
# 1
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 2
page<-read_html(paste0("https://www.bing.com/images/search?q=" ,gsub(" ","+",img[i]),"+jpg&FORM=HDRSC2"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 3
page<-read_html(paste0("https://pixabay.com/it/images/search/" ,gsub(" ","%20",img[i])))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch&biw=2048&bih=971&dpr=1.88"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1a
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch&tbs=isz:l"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1b
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch&tbs=isz:m"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1c
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch&tbs=isz:s"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1.1
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:white"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1.2
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:teal"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1.3
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:black"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1.4
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:green"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1.5
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:red"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1.6
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:blue"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1.7
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:gray"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1.8
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:yellow"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1.9
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:pink"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
# 1.10
page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:brown"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}
}
page
html_nodes(page,xpath = '//img')
length(html_nodes(page,xpath = '//img'))
txt
# 1
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
txt<-"img"
for(i in 1:length(img)){
# 1
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 2
try({page<-read_html(paste0("https://www.bing.com/images/search?q=" ,gsub(" ","+",img[i]),"+jpg&FORM=HDRSC2"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 3
try({page<-read_html(paste0("https://pixabay.com/it/images/search/" ,gsub(" ","%20",img[i])))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1a
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch&tbs=isz:l"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1b
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch&tbs=isz:m"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1c
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch&tbs=isz:s"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.1
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:white"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.2
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:teal"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.3
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:black"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.4
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:green"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.5
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:red"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.6
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:blue"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.7
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:gray"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.8
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:yellow"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.9
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:pink"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.10
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:brown"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
}
txt
library(xml2)
library(rvest)
library(stringr, warn.conflicts = F)
###########################à funzione #############################
webscraing_img <-function(img){
txt<-"img"
for(i in 1:length(img)){
# 1
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 2
try({page<-read_html(paste0("https://www.bing.com/images/search?q=" ,gsub(" ","+",img[i]),"+jpg&FORM=HDRSC2"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 3
try({page<-read_html(paste0("https://pixabay.com/it/images/search/" ,gsub(" ","%20",img[i])))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1a
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch&tbs=isz:l"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1b
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch&tbs=isz:m"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1c
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch&tbs=isz:s"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.1
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:white"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.2
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:teal"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.3
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:black"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.4
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:green"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.5
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:red"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.6
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:blue"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.7
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:gray"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.8
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:yellow"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.9
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:pink"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
# 1.10
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:brown"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
}})
}
return(txt)
}
############# PLASTICA #-----------------------
img<-c("bottiglie di plastica","sacchetti di plastica","tappi di plastica","plastica","bottles of plastic","giochi di plastica","utensili di plastica")
# i=1
txt<-webscraing_img(img)
d<-substr(txt,1,3)=="htt"
immaginidascaricare<-txt[d]
immaginidascaricare
for(i in 1:length(immaginidascaricare)){
download.file(immaginidascaricare[i],destfile=paste0("C:/Users/gieck/Desktop/TESI/imm_web_scr/plastica/Pastica",i,".jpg"),method='curl')
}
immaginidascaricare
immaginidascaricare[1]
immaginidascaricare[2]
immaginidascaricare[3]
immaginidascaricare[4]
for(i in 1:length(immaginidascaricare)){
download.file(immaginidascaricare[i],destfile=paste0("C:/Users/gieck/Desktop/TESI/imm_web_scr/plastica/Pastica",i,".jpg"))
}
for(i in 1:length(immaginidascaricare)){
download.file(immaginidascaricare[i],destfile=paste0("C:/Users/gieck/Desktop/TESI/imm_web_scr/dati/plastica/Pastica",i,".jpg"),method='curl')
}
############# UMIDO #-----------------------
img<-c("cibo","umido cibo","organico cibo")
txt<-"img"
# i=1
txt<-webscraing_img(img)
d<-substr(txt,1,3)=="htt"
immaginidascaricare<-txt[d]
for(i in 1:length(immaginidascaricare)){
download.file(immaginidascaricare[i],destfile=paste0("C:/Users/gieck/Desktop/TESI/imm_web_scr/dati/umido/Umido",i,".jpg"),method='curl')
}
cat(paste0("mkdir \"C:\Users\gieck\Desktop\CARTELLA TESI\WEB_SCRAPING\dati\", plastica))
mkdir
cat(paste0("mkdir \"C:\Users\gieck\Desktop\CARTELLA TESI\WEB_SCRAPING\dati\ ", Plastica[1]))
scar<-rbind(Plastica,Carta,Tetra_Pak,Polistirolo,Vetro,Indifferenziato,Legno,Metalli,Umido,Latta_e_alluminio)
Plastica<-c("Plastica", "bottiglie di plastica", "sacchetti di plastica", "tappi di plastica", "giochi di plastica", "utensili di plastica", "pacchi di plastica", "posate di plastica","bicchieri di plastica", "vaschette di plastica", "tubetti dentifricio", "pellicola cucina", "sedie di plastica", "secchi di plastica", "vaschette plastica", "contenitore uova di plastica")
Carta<-c("Carta", "carta giornali", "fogli di carta", "contenitore uova di carta", "tovaglioli di carta", "pacchi di cartone", "cartone pizza", "posate di carta", "bicchieri di carta", "libri di carta", "quaderni di carta", "sacchetti di carta", "tovaglie di carta", "scatole di cartone", "riviste di carta","carta appallottolata")
Tetra_Pak<-c("Tetra Pak latte", "Tetra Pak succhi", "contenitori in tetra pak", "tetra pak succo brico ")
Polistirolo<-c("contenitori in polistirolo", "polistirolo", "vaschette polistirolo")
Vetro<-c("Vetro", "Bottiglie di vetro", "tazzine di vetro", "vetro rotto", "vetro bottiglie vino", "vetro bottiglie birra", "vetro bottiglie alcolici", "vetro bottiglie bevante", "caraffe di vetro", "calici di vetro", "vasi di vetro", "bicchieri di vetro", "bicchieri di vetro rotti", "lastre di vetro", "contenitori di vetro")
Indifferenziato<-c("ceramica", "carta sporca e oleata", "cd", "dvd", "videocassette", "musicasette", "accendini", "pannolini", "assorbenti", "mozziconi di sigarette", "lampadine", "cristallo", "specchi", "vasi ceramica", "filtri dell’aspirapolvere")
Legno<-c("legno", "legname", "giochi di legno", "utensili di legno", "assi di legno", "posate di legno", "ciotole di legno", "mestoli di legno", "sedie di legno", "tavoli di legno", "piatti di legno", "scaffali di legno", "mobili di legno", "tagliere di legno", "tappi di sugero")
Metalli<-c("ferro", "metallo", "pentole", "mestoli di ferro", "lastre metallo", "chiavi di ferro", "utensili di ferro", "ferro battuto", "padelle", "posate di metallo", "forchette di metallo", "coltelli di metallo", "cucchiai di metallo", "caffettiere", "Lucchetti di ferro")
Umido<-c("scarti cibo", "umido cibo", "organico cibo", "scarti pesce", "scarti carne", "fondi di caffe", "frutta secca", "avanzi cibo", "filtri te e tisane", "pane", "fiori e foglie", "alimenti avariati", "scarti di cucina", "avanzi pasta", "avanzi di riso")
Latta_e_alluminio<-c("lattine per bevande", "fogli di alluminio","lattine di cocacola", "lattine di pepsi", "lattine redbull", "lattine di sprite", "lattine di 7up", "lattine di fanta", "lattine di birra", "lattine di pelati", "lattine di cereali", "lattine di legumi", "alluminio per cucina", "teglie di alluminio", "lattine")
scar<-rbind(Plastica,Carta,Tetra_Pak,Polistirolo,Vetro,Indifferenziato,Legno,Metalli,Umido,Latta_e_alluminio)
scar
scar<-c(Plastica,Carta,Tetra_Pak,Polistirolo,Vetro,Indifferenziato,Legno,Metalli,Umido,Latta_e_alluminio)
scar
cat(paste0("mkdir \"C:/Users/gieck/Desktop/CARTELLA TESI/WEB_SCRAPING/dati/ ", Plastica[1]))
cat(paste0("mkdir \"C:/Users/gieck/Desktop/CARTELLA TESI/WEB_SCRAPING/dati/", Plastica[1]))
cat(paste0("mkdir \"C:/Users/gieck/Desktop/CARTELLA TESI/WEB_SCRAPING/dati/", scar[1]))
cat(paste0("mkdir \"C:/Users/gieck/Desktop/CARTELLA TESI/WEB_SCRAPING/dati/", scar[1], "\n"))
cat(paste0("mkdir \"C:/Users/gieck/Desktop/CARTELLA TESI/WEB_SCRAPING/dati/", scar[i], "\n"))
for(i in 1:length(scar)){
cat(paste0("mkdir \"C:/Users/gieck/Desktop/CARTELLA TESI/WEB_SCRAPING/dati/", scar[i], "\n"))
}
for(i in 1:length(scar)){
cat(paste0("mkdir \"C:/Users/gieck/Desktop/CARTELLA TESI/WEB_SCRAPING/dati/", gsub(" ","_",scar[i]), "\n"))
}
for(i in 1:length(scar)){
cat(paste0("mkdir \"C:/Users/gieck/Desktop/CARTELLA TESI/WEB_SCRAPING/dati/", gsub(" ","_",scar[i]), "\n"))
}
scar
txt<-webscraing_img(scar)
h<-txt
txt<-h[,2]
d<-substr(txt,1,3)=="htt"
immaginidascaricare<-txt[d]
nome<-h[d,1]
for(i in 1:length(immaginidascaricare)){
download.file(immaginidascaricare[i],destfile=paste0("C:/Users/gieck/Desktop/TESI/imm_web_scr/dati/",nome[i],"/",nome[i],i,".jpg"),method='curl')
}
library(xml2)
library(rvest)
library(stringr, warn.conflicts = F)
webscraing_img <-function(img){
txt<-"img"
nome<-"img"
for(i in 1:length(img)){
# 1
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 2
try({page<-read_html(paste0("https://www.bing.com/images/search?q=" ,gsub(" ","+",img[i]),"+jpg&FORM=HDRSC2"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 3
try({page<-read_html(paste0("https://pixabay.com/it/images/search/" ,gsub(" ","%20",img[i])))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 1a
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch&tbs=isz:l"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 1b
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch&tbs=isz:m"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 1c
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&source=lnms&tbm=isch&tbs=isz:s"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 1.1
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:white"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 1.2
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:teal"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 1.3
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:black"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 1.4
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:green"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 1.5
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:red"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 1.6
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:blue"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 1.7
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:gray"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 1.8
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:yellow"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 1.9
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:pink"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
# 1.10
try({page<-read_html(paste0("https://www.google.com/search?source=&q=" ,gsub(" ","+",img[i]),"+jpg&tbas=0&tbm=isch&tbs=ic:specific,isc:brown"))
for (t in 1:length(html_nodes(page,xpath = '//img'))) {
txt<-c(txt,xml_attrs(html_nodes(page, xpath = "//img")[[t]])[["src"]])
nome<-c(nome,gsub(" ", "_",img[i]))
}})
}
return(cbind(nome,txt))
}
scar
txt<-webscraing_img(scar)
h<-txt
txt<-h[,2]
d<-substr(txt,1,3)=="htt"
immaginidascaricare<-txt[d]
nome<-h[d,1]
for(i in 1:length(immaginidascaricare)){
download.file(immaginidascaricare[i],destfile=paste0("C:/Users/gieck/Desktop/TESI/imm_web_scr/dati/",nome[i],"/",nome[i],i,".jpg"),method='curl')
}
nome
immaginidascaricare
paste0("C:/Users/gieck/Desktop/TESI/imm_web_scr/dati/",nome[i],"/",nome[i],i,".jpg")
for(i in 1:length(immaginidascaricare)){
download.file(immaginidascaricare[i],destfile=paste0("C:/Users/gieck/Desktop/TESI/imm_web_scr/dati/",nome[i],"/",nome[i],i,".jpg"),method='curl')
}
for(i in 1:length(immaginidascaricare)){
download.file(immaginidascaricare[i],destfile=paste0("C:/Users/gieck/Desktop/TESI/imm_web_scr/dati/",nome[i],"/",nome[i],i,".jpg"))
}
for(i in 1:length(immaginidascaricare)){
download.file(immaginidascaricare[i],destfile=paste0("C:/Users/gieck/Desktop/CARTELLA TESI/WEB_SCRAPING/dati",nome[i],"/",nome[i],i,".jpg"),method='curl')
}
download.file(immaginidascaricare[i],destfile=paste0("C:/Users/gieck/Desktop/CARTELLA TESI/WEB_SCRAPING/dati",nome[i],"/",nome[i],i,".jpg"))
download.file(immaginidascaricare[i],destfile=paste0("C:/Users/gieck/Desktop/CARTELLA TESI/WEB_SCRAPING/dati/",nome[i],"/",nome[i],i,".jpg"),method='curl')
for(i in 1:length(immaginidascaricare)){
download.file(immaginidascaricare[i],destfile=paste0("C:/Users/gieck/Desktop/CARTELLA TESI/WEB_SCRAPING/dati/",nome[i],"/",nome[i],i,".jpg"),method='curl')
}
i
for(i in 1:length(immaginidascaricare)){
try(download.file(immaginidascaricare[i],destfile=paste0("C:/Users/gieck/Desktop/CARTELLA TESI/WEB_SCRAPING/dati/",nome[i],"/",nome[i],i,".jpg"),method='curl'))
}
